{% extends "base.html" %}

{% block title %}Blocks - Ocean.xyz Mining Dashboard{% endblock %}

{% block css %}
<link rel="stylesheet" href="/static/css/blocks.css">
{% endblock %}

{% block header %}Blockchain Monitor{% endblock %}

{% block blocks_active %}active{% endblock %}

{% block content %}

<!-- Latest block stats -->
<div class="row mb-2 equal-height">
    <div class="col-12">
        <div class="card">
            <div class="card-header">Latest Block Stats</div>
            <div class="card-body">
                <div class="latest-block-stats">
                    <div class="stat-item">
                        <strong>Block Height:</strong>
                        <span id="latest-height" class="metric-value white">Loading...</span>
                    </div>
                    <div class="stat-item">
                        <strong>Time:</strong>
                        <span id="latest-time" class="metric-value blue">Loading...</span>
                    </div>
                    <div class="stat-item">
                        <strong>Transactions:</strong>
                        <span id="latest-tx-count" class="metric-value white">Loading...</span>
                    </div>
                    <div class="stat-item">
                        <strong>Size:</strong>
                        <span id="latest-size" class="metric-value white">Loading...</span>
                    </div>
                    <div class="stat-item">
                        <strong>Difficulty:</strong>
                        <span id="latest-difficulty" class="metric-value yellow">Loading...</span>
                    </div>
                    <div class="stat-item">
                        <strong>Mining Pool:</strong>
                        <span id="latest-pool" class="metric-value green">Loading...</span>
                    </div>
                    <div class="stat-item">
                        <strong>Avg Fee Rate:</strong>
                        <span id="latest-fee-rate" class="metric-value yellow">Loading...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Blocks grid -->
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">Recent Bitcoin Blocks</div>
            <div class="card-body">
                <div class="blocks-container">
                    <div id="blocks-grid" class="blocks-grid">
                        <!-- Blocks will be generated here via JavaScript -->
                        <div class="loader">
                            <span class="loader-text">Connecting to mempool.space API<span class="terminal-cursor"></span></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Block details modal -->
<div id="block-modal" class="block-modal">
    <div class="block-modal-content">
        <div class="block-modal-header">
            <span class="block-modal-title">Block Details</span>
            <span class="block-modal-close">&times;</span>
        </div>
        <div class="block-modal-body">
            <div id="block-details">
                <!-- Block details will be displayed here -->
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block javascript %}
<script src="/static/js/blocks.js"></script>
<script src="/static/js/block-animation.js"></script>
{% endblock %}
